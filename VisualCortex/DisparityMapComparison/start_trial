#!/bin/bash

TRIAL_NUMBER=0
EXT_0="0.ppm"
EXT_1="1.ppm"
SP="_"

GUARDDOG_LABEL="_guarddog.ppm"
LIBELAS_LABEL="_libelas.ppm"
OPENCV_LABEL="_opencv.ppm"

OPENCV_OPTIONS="--no-display=1 -o"


samples=( flowerpots gddg bowling cloth lampshade1_ middlebury wood aloe tsukuba cones teddy )


for TRIAL_NAME in "${samples[@]}"; do
echo "Executing $TRIAL_NAME test"
# GUARDDOG VISUAL CORTEX PART
time ./stereo_disparity_my_tester 320 240 "$TRIAL_NAME$EXT_0" "$TRIAL_NAME$EXT_1" "$TRIAL_NUMBER$SP$TRIAL_NAME$GUARDDOG_LABEL"
# OPENCV PART
time ./stereo_disparity_opencv_tester "$TRIAL_NAME$EXT_0" "$TRIAL_NAME$EXT_1" --no-display=1 -o "$TRIAL_NUMBER$SP$TRIAL_NAME$OPENCV_LABEL"
# LIBELAS PART
time ./elas "$TRIAL_NAME$EXT_0" "$TRIAL_NAME$EXT_1"
mv "$TRIAL_NAME"0_disp.ppm "$TRIAL_NUMBER$SP$TRIAL_NAME$LIBELAS_LABEL"
rm "$TRIAL_NAME"1_disp.ppm   
(( TRIAL_NUMBER++ ))
done

exit 0
